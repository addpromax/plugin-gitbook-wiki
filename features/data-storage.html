
<!DOCTYPE HTML>
<html lang="zh-hans" >
    <head>
        <meta charset="UTF-8">
        <meta content="text/html; charset=utf-8" http-equiv="Content-Type">
        <title>数据存储系统 · MagicBili系列插件WIKI</title>
        <meta http-equiv="X-UA-Compatible" content="IE=edge" />
        <meta name="description" content="">
        <meta name="generator" content="GitBook 3.2.3">
        <meta name="author" content="魔法麦麦">
        
        
    
    <link rel="stylesheet" href="../gitbook/style.css">

    
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-highlight/website.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-search-pro/search.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-splitter/splitter.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-back-to-top-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-code/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-page-toc-button/plugin.css">
                
            
                
                <link rel="stylesheet" href="../gitbook/gitbook-plugin-tbfed-pagefooter/footer.css">
                
            
        

    

    
        
    
        
    
        
    
        
    
        
    
        
    

        
    
    
    <meta name="HandheldFriendly" content="true"/>
    <meta name="viewport" content="width=device-width, initial-scale=1, user-scalable=no">
    <meta name="apple-mobile-web-app-capable" content="yes">
    <meta name="apple-mobile-web-app-status-bar-style" content="black">
    <link rel="apple-touch-icon-precomposed" sizes="152x152" href="../gitbook/images/apple-touch-icon-precomposed-152.png">
    <link rel="shortcut icon" href="../gitbook/images/favicon.ico" type="image/x-icon">

    
    <link rel="next" href="enchantment-codex.html" />
    
    
    <link rel="prev" href="commands.html" />
    

    </head>
    <body>
        
<div class="book">
    <div class="book-summary">
        
            
<div id="book-search-input" role="search">
    <input type="text" placeholder="输入并搜索" />
</div>

            
                <nav role="navigation">
                


<ul class="summary">
    
    

    

    
        
        
    
        <li class="chapter " data-level="1.1" data-path="../">
            
                <a href="../">
            
                    
                    介绍
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">快速开始</li>
        
        
    
        <li class="chapter " data-level="2.1" data-path="../overview/plugin-overview.html">
            
                <a href="../overview/plugin-overview.html">
            
                    
                    插件概述
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.2" data-path="../installation/installation.html">
            
                <a href="../installation/installation.html">
            
                    
                    安装指南
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.3" data-path="../installation/quick-setup.html">
            
                <a href="../installation/quick-setup.html">
            
                    
                    快速配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="2.4" data-path="../installation/first-use.html">
            
                <a href="../installation/first-use.html">
            
                    
                    第一次使用
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">核心功能</li>
        
        
    
        <li class="chapter " data-level="3.1" data-path="discovery-system.html">
            
                <a href="discovery-system.html">
            
                    
                    基础发现系统
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="3.2" data-path="commands.html">
            
                <a href="commands.html">
            
                    
                    命令与权限
            
                </a>
            

            
        </li>
    
        <li class="chapter active" data-level="3.3" data-path="data-storage.html">
            
                <a href="data-storage.html">
            
                    
                    数据存储系统
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">自动图鉴系统</li>
        
        
    
        <li class="chapter " data-level="4.1" data-path="enchantment-codex.html">
            
                <a href="enchantment-codex.html">
            
                    
                    附魔图鉴
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.2" data-path="fishing-codex.html">
            
                <a href="fishing-codex.html">
            
                    
                    钓鱼图鉴
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.3" data-path="crops-codex.html">
            
                <a href="crops-codex.html">
            
                    
                    作物图鉴
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="4.4" data-path="world-history.html">
            
                <a href="world-history.html">
            
                    
                    世界历史系统
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">第三方插件集成</li>
        
        
    
        <li class="chapter " data-level="5.1" data-path="../integrations/item-plugins.html">
            
                <a href="../integrations/item-plugins.html">
            
                    
                    物品插件集成
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.2" data-path="../integrations/enchantment-plugins.html">
            
                <a href="../integrations/enchantment-plugins.html">
            
                    
                    附魔插件集成
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="5.3" data-path="../integrations/other-plugins.html">
            
                <a href="../integrations/other-plugins.html">
            
                    
                    其他插件支持
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">配置指南</li>
        
        
    
        <li class="chapter " data-level="6.1" data-path="../configuration/basic-config.html">
            
                <a href="../configuration/basic-config.html">
            
                    
                    基础配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.2" data-path="../configuration/discovery-config.md">
            
                <span>
            
                    
                    发现配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.3" data-path="../configuration/gui-config.md">
            
                <span>
            
                    
                    界面配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.4" data-path="../configuration/rewards-config.md">
            
                <span>
            
                    
                    奖励配置
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="6.5" data-path="../configuration/database-config.md">
            
                <span>
            
                    
                    数据库配置
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">使用指南</li>
        
        
    
        <li class="chapter " data-level="7.1" data-path="../usage/player-interface.html">
            
                <a href="../usage/player-interface.html">
            
                    
                    玩家界面说明
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.2" data-path="../usage/discovery-mechanics.html">
            
                <a href="../usage/discovery-mechanics.html">
            
                    
                    发现机制详解
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="7.3" data-path="../usage/codex-browsing.html">
            
                <a href="../usage/codex-browsing.html">
            
                    
                    图鉴浏览
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">管理员工具</li>
        
        
    
        <li class="chapter " data-level="8.1" data-path="../admin/debugging.md">
            
                <span>
            
                    
                    调试与诊断
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.2" data-path="../admin/data-management.md">
            
                <span>
            
                    
                    数据管理
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="8.3" data-path="../admin/performance.md">
            
                <span>
            
                    
                    性能优化
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">故障排除</li>
        
        
    
        <li class="chapter " data-level="9.1" data-path="../troubleshooting/faq.html">
            
                <a href="../troubleshooting/faq.html">
            
                    
                    常见问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="9.2" data-path="../troubleshooting/installation-issues.md">
            
                <span>
            
                    
                    安装问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="9.3" data-path="../troubleshooting/configuration-issues.md">
            
                <span>
            
                    
                    配置问题
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="9.4" data-path="../troubleshooting/performance-issues.md">
            
                <span>
            
                    
                    性能问题
            
                </a>
            

            
        </li>
    

    
        
        <li class="header">开发者资源</li>
        
        
    
        <li class="chapter " data-level="10.1" data-path="../api/api-overview.html">
            
                <a href="../api/api-overview.html">
            
                    
                    API 文档
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="10.2" data-path="../api/events.md">
            
                <span>
            
                    
                    事件系统
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="10.3" data-path="../api/data-structures.md">
            
                <span>
            
                    
                    数据结构
            
                </a>
            

            
        </li>
    
        <li class="chapter " data-level="10.4" data-path="../api/extensions.md">
            
                <span>
            
                    
                    扩展开发
            
                </a>
            

            
        </li>
    

    

    <li class="divider"></li>

    <li>
        <a href="https://www.gitbook.com" target="blank" class="gitbook-link">
            本书使用 GitBook 发布
        </a>
    </li>
</ul>


                </nav>
            
        
    </div>

    <div class="book-body">
        
            <div class="body-inner">
                
                    

<div class="book-header" role="navigation">
    

    <!-- Title -->
    <h1>
        <i class="fa fa-circle-o-notch fa-spin"></i>
        <a href=".." >数据存储系统</a>
    </h1>
</div>




                    <div class="page-wrapper" tabindex="-1" role="main">
                        <div class="page-inner">
                            
<div id="book-search-results">
    <div class="search-noresults">
    
                                <section class="normal markdown-section">
                                
                                <h1 id="&#x6570;&#x636E;&#x5B58;&#x50A8;&#x7CFB;&#x7EDF;">&#x6570;&#x636E;&#x5B58;&#x50A8;&#x7CFB;&#x7EDF;</h1>
<p>Codex &#x63D2;&#x4EF6;&#x63D0;&#x4F9B;&#x4E86;&#x7075;&#x6D3B;&#x7684;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x9009;&#x9879;&#xFF0C;&#x652F;&#x6301;&#x4ECE;&#x7B80;&#x5355;&#x7684;&#x6587;&#x4EF6;&#x5B58;&#x50A8;&#x5230;&#x9AD8;&#x6027;&#x80FD;&#x7684;&#x6570;&#x636E;&#x5E93;&#x7CFB;&#x7EDF;&#xFF0C;&#x6EE1;&#x8DB3;&#x4E0D;&#x540C;&#x89C4;&#x6A21;&#x670D;&#x52A1;&#x5668;&#x7684;&#x9700;&#x6C42;&#x3002;&#x672C;&#x7AE0;&#x8BE6;&#x7EC6;&#x4ECB;&#x7ECD;&#x5404;&#x79CD;&#x5B58;&#x50A8;&#x65B9;&#x5F0F;&#x7684;&#x914D;&#x7F6E;&#x548C;&#x4F18;&#x5316;&#x65B9;&#x6CD5;&#x3002;</p>
<h2 id="&#x5B58;&#x50A8;&#x65B9;&#x5F0F;&#x6982;&#x89C8;">&#x5B58;&#x50A8;&#x65B9;&#x5F0F;&#x6982;&#x89C8;</h2>
<h3 id="&#x652F;&#x6301;&#x7684;&#x5B58;&#x50A8;&#x7C7B;&#x578B;">&#x652F;&#x6301;&#x7684;&#x5B58;&#x50A8;&#x7C7B;&#x578B;</h3>
<table>
<thead>
<tr>
<th>&#x5B58;&#x50A8;&#x7C7B;&#x578B;</th>
<th>&#x9002;&#x7528;&#x573A;&#x666F;</th>
<th>&#x6027;&#x80FD;</th>
<th>&#x8DE8;&#x670D;&#x652F;&#x6301;</th>
<th>&#x914D;&#x7F6E;&#x96BE;&#x5EA6;</th>
</tr>
</thead>
<tbody>
<tr>
<td><strong>YAML&#x6587;&#x4EF6;</strong></td>
<td>&#x5C0F;&#x578B;&#x670D;&#x52A1;&#x5668;</td>
<td>&#x4E00;&#x822C;</td>
<td>&#x274C;</td>
<td>&#x7B80;&#x5355;</td>
</tr>
<tr>
<td><strong>H2&#x6570;&#x636E;&#x5E93;</strong></td>
<td>&#x4E2D;&#x578B;&#x670D;&#x52A1;&#x5668;</td>
<td>&#x4F18;&#x79C0;</td>
<td>&#x274C;</td>
<td>&#x7B80;&#x5355;</td>
</tr>
<tr>
<td><strong>MySQL&#x6570;&#x636E;&#x5E93;</strong></td>
<td>&#x5927;&#x578B;&#x670D;&#x52A1;&#x5668;/&#x7F51;&#x7EDC;</td>
<td>&#x4F18;&#x79C0;</td>
<td>&#x2705;</td>
<td>&#x4E2D;&#x7B49;</td>
</tr>
</tbody>
</table>
<h3 id="&#x9009;&#x62E9;&#x5EFA;&#x8BAE;">&#x9009;&#x62E9;&#x5EFA;&#x8BAE;</h3>
<ul>
<li><strong>&#x73A9;&#x5BB6;&#x6570; &lt; 50</strong>&#xFF1A;&#x4F7F;&#x7528; YAML &#x6587;&#x4EF6;&#x5B58;&#x50A8;</li>
<li><strong>&#x73A9;&#x5BB6;&#x6570; 50-500</strong>&#xFF1A;&#x63A8;&#x8350; H2 &#x6570;&#x636E;&#x5E93;</li>
<li><strong>&#x73A9;&#x5BB6;&#x6570; &gt; 500 &#x6216;&#x9700;&#x8981;&#x8DE8;&#x670D;</strong>&#xFF1A;&#x4F7F;&#x7528; MySQL &#x6570;&#x636E;&#x5E93;</li>
</ul>
<h2 id="&#x57FA;&#x7840;&#x914D;&#x7F6E;">&#x57FA;&#x7840;&#x914D;&#x7F6E;</h2>
<h3 id="&#x4E3B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8BBE;&#x7F6E;">&#x4E3B;&#x914D;&#x7F6E;&#x6587;&#x4EF6;&#x8BBE;&#x7F6E;</h3>
<p>&#x7F16;&#x8F91; <code>plugins/Codex/config.yml</code>&#xFF1A;</p>
<pre><code class="lang-yaml"><span class="hljs-comment"># ==========================================</span>
<span class="hljs-comment"># &#x6570;&#x636E;&#x5B58;&#x50A8;&#x914D;&#x7F6E;</span>
<span class="hljs-comment"># ==========================================</span>

<span class="hljs-comment"># &#x5B58;&#x50A8;&#x7C7B;&#x578B;&#x9009;&#x62E9;</span>
<span class="hljs-comment"># &#x53EF;&#x9009;&#x503C;: file, h2, mysql</span>
<span class="hljs-attr">storage_type:</span> h2

<span class="hljs-comment"># &#x81EA;&#x52A8;&#x4FDD;&#x5B58;&#x8BBE;&#x7F6E;</span>
<span class="hljs-attr">auto_save:</span>
  <span class="hljs-comment"># &#x542F;&#x7528;&#x81EA;&#x52A8;&#x4FDD;&#x5B58;</span>
<span class="hljs-attr">  enabled:</span> <span class="hljs-literal">true</span>

  <span class="hljs-comment"># &#x4FDD;&#x5B58;&#x95F4;&#x9694;&#xFF08;&#x5206;&#x949F;&#xFF09;</span>
<span class="hljs-attr">  interval:</span> <span class="hljs-number">15</span>

  <span class="hljs-comment"># &#x663E;&#x793A;&#x4FDD;&#x5B58;&#x901A;&#x77E5;&#xFF08;&#x4EC5;&#x7BA1;&#x7406;&#x5458;&#x53EF;&#x89C1;&#xFF09;</span>
<span class="hljs-attr">  show_notifications:</span> <span class="hljs-literal">false</span>

  <span class="hljs-comment"># &#x4FDD;&#x5B58;&#x65F6;&#x673A;</span>
<span class="hljs-attr">  save_on:</span>
<span class="hljs-attr">    player_quit:</span> <span class="hljs-literal">true</span>      <span class="hljs-comment"># &#x73A9;&#x5BB6;&#x79BB;&#x5F00;&#x65F6;&#x4FDD;&#x5B58;</span>
<span class="hljs-attr">    server_shutdown:</span> <span class="hljs-literal">true</span>  <span class="hljs-comment"># &#x670D;&#x52A1;&#x5668;&#x5173;&#x95ED;&#x65F6;&#x4FDD;&#x5B58;</span>
<span class="hljs-attr">    discovery_unlock:</span> <span class="hljs-literal">true</span> <span class="hljs-comment"># &#x89E3;&#x9501;&#x53D1;&#x73B0;&#x65F6;&#x7ACB;&#x5373;&#x4FDD;&#x5B58;</span>

<span class="hljs-comment"># &#x5185;&#x5B58;&#x7BA1;&#x7406;</span>
<span class="hljs-attr">memory_management:</span>
  <span class="hljs-comment"># &#x5185;&#x5B58;&#x6E05;&#x7406;&#x95F4;&#x9694;&#xFF08;&#x79D2;&#xFF09;</span>
<span class="hljs-attr">  cleanup_interval:</span> <span class="hljs-number">1800</span>  <span class="hljs-comment"># 30&#x5206;&#x949F;</span>

  <span class="hljs-comment"># &#x6E05;&#x7406;&#x79BB;&#x7EBF;&#x73A9;&#x5BB6;&#x6570;&#x636E;</span>
<span class="hljs-attr">  clean_offline_players:</span> <span class="hljs-literal">true</span>

  <span class="hljs-comment"># &#x6700;&#x5927;&#x5185;&#x5B58;&#x7F13;&#x5B58;&#x6761;&#x76EE;&#x6570;</span>
<span class="hljs-attr">  max_cache_size:</span> <span class="hljs-number">10000</span>

  <span class="hljs-comment"># &#x7F13;&#x5B58;&#x8FC7;&#x671F;&#x65F6;&#x95F4;&#xFF08;&#x79D2;&#xFF09;</span>
<span class="hljs-attr">  cache_expire_time:</span> <span class="hljs-number">3600</span>
</code></pre>
<h2 id="yaml-&#x6587;&#x4EF6;&#x5B58;&#x50A8;">YAML &#x6587;&#x4EF6;&#x5B58;&#x50A8;</h2>
<h3 id="&#x914D;&#x7F6E;&#x8BF4;&#x660E;">&#x914D;&#x7F6E;&#x8BF4;&#x660E;</h3>
<p>YAML &#x6587;&#x4EF6;&#x5B58;&#x50A8;&#x662F;&#x6700;&#x7B80;&#x5355;&#x7684;&#x5B58;&#x50A8;&#x65B9;&#x5F0F;&#xFF0C;&#x9002;&#x5408;&#x5C0F;&#x578B;&#x670D;&#x52A1;&#x5668;&#xFF1A;</p>
<pre><code class="lang-yaml"><span class="hljs-comment"># &#x5B58;&#x50A8;&#x7C7B;&#x578B;&#x8BBE;&#x7F6E;</span>
<span class="hljs-attr">storage_type:</span> file

<span class="hljs-comment"># &#x6587;&#x4EF6;&#x5B58;&#x50A8;&#x7279;&#x5B9A;&#x914D;&#x7F6E;</span>
<span class="hljs-attr">file_storage:</span>
  <span class="hljs-comment"># &#x6570;&#x636E;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;</span>
<span class="hljs-attr">  data_path:</span> <span class="hljs-string">&quot;plugins/Codex/players/&quot;</span>

  <span class="hljs-comment"># &#x6587;&#x4EF6;&#x683C;&#x5F0F;</span>
<span class="hljs-attr">  format:</span> <span class="hljs-string">&quot;yml&quot;</span>  <span class="hljs-comment"># &#x652F;&#x6301; yml, json</span>

  <span class="hljs-comment"># &#x5907;&#x4EFD;&#x8BBE;&#x7F6E;</span>
<span class="hljs-attr">  backup:</span>
<span class="hljs-attr">    enabled:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr">    max_backups:</span> <span class="hljs-number">10</span>
<span class="hljs-attr">    backup_interval:</span> <span class="hljs-number">86400</span>  <span class="hljs-comment"># 24&#x5C0F;&#x65F6;</span>

  <span class="hljs-comment"># &#x6587;&#x4EF6;&#x538B;&#x7F29;&#xFF08;&#x8282;&#x7701;&#x7A7A;&#x95F4;&#xFF09;</span>
<span class="hljs-attr">  compression:</span>
<span class="hljs-attr">    enabled:</span> <span class="hljs-literal">false</span>
<span class="hljs-attr">    format:</span> <span class="hljs-string">&quot;gzip&quot;</span>
</code></pre>
<h3 id="&#x4F18;&#x70B9;&#x548C;&#x7F3A;&#x70B9;">&#x4F18;&#x70B9;&#x548C;&#x7F3A;&#x70B9;</h3>
<p><strong>&#x4F18;&#x70B9;</strong>&#xFF1A;</p>
<ul>
<li>&#x2705; &#x914D;&#x7F6E;&#x7B80;&#x5355;&#xFF0C;&#x65E0;&#x9700;&#x5916;&#x90E8;&#x4F9D;&#x8D56;</li>
<li>&#x2705; &#x6570;&#x636E;&#x53EF;&#x76F4;&#x63A5;&#x7F16;&#x8F91;</li>
<li>&#x2705; &#x6613;&#x4E8E;&#x5907;&#x4EFD;&#x548C;&#x8FC1;&#x79FB;</li>
<li>&#x2705; &#x9002;&#x5408;&#x8C03;&#x8BD5;&#x548C;&#x5F00;&#x53D1;</li>
</ul>
<p><strong>&#x7F3A;&#x70B9;</strong>&#xFF1A;</p>
<ul>
<li>&#x274C; &#x5927;&#x91CF;&#x73A9;&#x5BB6;&#x65F6;&#x6027;&#x80FD;&#x8F83;&#x5DEE;</li>
<li>&#x274C; &#x4E0D;&#x652F;&#x6301;&#x590D;&#x6742;&#x67E5;&#x8BE2;</li>
<li>&#x274C; &#x4E0D;&#x652F;&#x6301;&#x8DE8;&#x670D;&#x6570;&#x636E;&#x5171;&#x4EAB;</li>
<li>&#x274C; &#x5E76;&#x53D1;&#x8BBF;&#x95EE;&#x53EF;&#x80FD;&#x5BFC;&#x81F4;&#x6570;&#x636E;&#x4E22;&#x5931;</li>
</ul>
<h3 id="&#x6570;&#x636E;&#x7ED3;&#x6784;&#x793A;&#x4F8B;">&#x6570;&#x636E;&#x7ED3;&#x6784;&#x793A;&#x4F8B;</h3>
<pre><code class="lang-yaml"><span class="hljs-comment"># plugins/Codex/players/player_uuid.yml</span>
<span class="hljs-attr">player_data:</span>
<span class="hljs-attr">  uuid:</span> <span class="hljs-string">&quot;550e8400-e29b-41d4-a716-446655440000&quot;</span>
<span class="hljs-attr">  name:</span> <span class="hljs-string">&quot;Steve&quot;</span>
<span class="hljs-attr">  first_join:</span> <span class="hljs-number">1699123456789</span>
<span class="hljs-attr">  last_seen:</span> <span class="hljs-number">1699209856789</span>

<span class="hljs-attr">discoveries:</span>
<span class="hljs-attr">  items:</span>
<span class="hljs-attr">    first_diamond:</span>
<span class="hljs-attr">      unlocked:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr">      unlock_time:</span> <span class="hljs-number">1699123500000</span>
<span class="hljs-attr">      unlock_date:</span> <span class="hljs-string">&quot;2024-11-04&quot;</span>
<span class="hljs-attr">    first_iron:</span>
<span class="hljs-attr">      unlocked:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr">      unlock_time:</span> <span class="hljs-number">1699123600000</span>
<span class="hljs-attr">      unlock_date:</span> <span class="hljs-string">&quot;2024-11-04&quot;</span>

<span class="hljs-attr">  monsters:</span>
<span class="hljs-attr">    zombie_killer:</span>
<span class="hljs-attr">      unlocked:</span> <span class="hljs-literal">false</span>

<span class="hljs-attr">statistics:</span>
<span class="hljs-attr">  total_discoveries:</span> <span class="hljs-number">2</span>
<span class="hljs-attr">  categories_completed:</span> <span class="hljs-number">0</span>
<span class="hljs-attr">  last_discovery:</span> <span class="hljs-string">&quot;first_iron&quot;</span>
</code></pre>
<h2 id="h2-&#x6570;&#x636E;&#x5E93;&#x5B58;&#x50A8;">H2 &#x6570;&#x636E;&#x5E93;&#x5B58;&#x50A8;</h2>
<h3 id="&#x914D;&#x7F6E;&#x8BF4;&#x660E;">&#x914D;&#x7F6E;&#x8BF4;&#x660E;</h3>
<p>H2 &#x662F;&#x63A8;&#x8350;&#x7684;&#x5B58;&#x50A8;&#x65B9;&#x5F0F;&#xFF0C;&#x63D0;&#x4F9B;&#x4F18;&#x79C0;&#x7684;&#x6027;&#x80FD;&#x4E14;&#x65E0;&#x9700;&#x989D;&#x5916;&#x914D;&#x7F6E;&#xFF1A;</p>
<pre><code class="lang-yaml"><span class="hljs-comment"># &#x5B58;&#x50A8;&#x7C7B;&#x578B;&#x8BBE;&#x7F6E;</span>
<span class="hljs-attr">storage_type:</span> h2

<span class="hljs-comment"># H2&#x6570;&#x636E;&#x5E93;&#x914D;&#x7F6E;</span>
<span class="hljs-attr">h2_database:</span>
  <span class="hljs-comment"># &#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#x8DEF;&#x5F84;</span>
<span class="hljs-attr">  file_path:</span> <span class="hljs-string">&quot;plugins/Codex/data/codex.db&quot;</span>

  <span class="hljs-comment"># &#x8FDE;&#x63A5;&#x6C60;&#x914D;&#x7F6E;</span>
<span class="hljs-attr">  pool:</span>
    <span class="hljs-comment"># &#x8FDE;&#x63A5;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#xFF08;&#x6BEB;&#x79D2;&#xFF09;</span>
<span class="hljs-attr">    connectionTimeout:</span> <span class="hljs-number">5000</span>

    <span class="hljs-comment"># &#x6700;&#x5927;&#x8FDE;&#x63A5;&#x6570;</span>
<span class="hljs-attr">    maximumPoolSize:</span> <span class="hljs-number">10</span>

    <span class="hljs-comment"># &#x6700;&#x5C0F;&#x7A7A;&#x95F2;&#x8FDE;&#x63A5;&#x6570;</span>
<span class="hljs-attr">    minimumIdle:</span> <span class="hljs-number">2</span>

    <span class="hljs-comment"># &#x8FDE;&#x63A5;&#x4FDD;&#x6D3B;&#x65F6;&#x95F4;&#xFF08;&#x6BEB;&#x79D2;&#xFF09;</span>
<span class="hljs-attr">    keepaliveTime:</span> <span class="hljs-number">30000</span>

    <span class="hljs-comment"># &#x7A7A;&#x95F2;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#xFF08;&#x6BEB;&#x79D2;&#xFF09;</span>
<span class="hljs-attr">    idleTimeout:</span> <span class="hljs-number">600000</span>

    <span class="hljs-comment"># &#x8FDE;&#x63A5;&#x6700;&#x5927;&#x751F;&#x5B58;&#x65F6;&#x95F4;&#xFF08;&#x6BEB;&#x79D2;&#xFF09;</span>
<span class="hljs-attr">    maxLifetime:</span> <span class="hljs-number">1800000</span>

  <span class="hljs-comment"># &#x6570;&#x636E;&#x5E93;&#x4F18;&#x5316;</span>
<span class="hljs-attr">  optimization:</span>
    <span class="hljs-comment"># &#x542F;&#x7528;WAL&#x6A21;&#x5F0F;&#xFF08;&#x63D0;&#x9AD8;&#x5E76;&#x53D1;&#x6027;&#x80FD;&#xFF09;</span>
<span class="hljs-attr">    wal_mode:</span> <span class="hljs-literal">true</span>

    <span class="hljs-comment"># &#x7F13;&#x5B58;&#x5927;&#x5C0F;&#xFF08;KB&#xFF09;</span>
<span class="hljs-attr">    cache_size:</span> <span class="hljs-number">10000</span>

    <span class="hljs-comment"># &#x540C;&#x6B65;&#x6A21;&#x5F0F;</span>
<span class="hljs-attr">    synchronous:</span> <span class="hljs-string">&quot;NORMAL&quot;</span>  <span class="hljs-comment"># OFF, NORMAL, FULL</span>

    <span class="hljs-comment"># &#x65E5;&#x5FD7;&#x5927;&#x5C0F;&#x9650;&#x5236;&#xFF08;MB&#xFF09;</span>
<span class="hljs-attr">    journal_size_limit:</span> <span class="hljs-number">100</span>
</code></pre>
<h3 id="&#x4F18;&#x70B9;&#x548C;&#x7F3A;&#x70B9;">&#x4F18;&#x70B9;&#x548C;&#x7F3A;&#x70B9;</h3>
<p><strong>&#x4F18;&#x70B9;</strong>&#xFF1A;</p>
<ul>
<li>&#x2705; &#x9AD8;&#x6027;&#x80FD;&#xFF0C;&#x652F;&#x6301;SQL&#x67E5;&#x8BE2;</li>
<li>&#x2705; &#x65E0;&#x9700;&#x5916;&#x90E8;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x5668;</li>
<li>&#x2705; &#x652F;&#x6301;&#x4E8B;&#x52A1;&#x548C;&#x5E76;&#x53D1;&#x8BBF;&#x95EE;</li>
<li>&#x2705; &#x81EA;&#x52A8;&#x4F18;&#x5316;&#x548C;&#x538B;&#x7F29;</li>
<li>&#x2705; &#x5185;&#x7F6E;&#x5907;&#x4EFD;&#x548C;&#x6062;&#x590D;&#x529F;&#x80FD;</li>
</ul>
<p><strong>&#x7F3A;&#x70B9;</strong>&#xFF1A;</p>
<ul>
<li>&#x274C; &#x4E0D;&#x652F;&#x6301;&#x8DE8;&#x670D;&#x6570;&#x636E;&#x5171;&#x4EAB;</li>
<li>&#x274C; &#x9700;&#x8981;&#x66F4;&#x591A;&#x5185;&#x5B58;</li>
<li>&#x274C; &#x6570;&#x636E;&#x5E93;&#x6587;&#x4EF6;&#x635F;&#x574F;&#x98CE;&#x9669;</li>
</ul>
<h3 id="&#x6027;&#x80FD;&#x4F18;&#x5316;">&#x6027;&#x80FD;&#x4F18;&#x5316;</h3>
<pre><code class="lang-yaml"><span class="hljs-attr">h2_database:</span>
  <span class="hljs-comment"># &#x9AD8;&#x6027;&#x80FD;&#x914D;&#x7F6E;</span>
<span class="hljs-attr">  pool:</span>
<span class="hljs-attr">    maximumPoolSize:</span> <span class="hljs-number">20</span>
<span class="hljs-attr">    connectionTimeout:</span> <span class="hljs-number">3000</span>

<span class="hljs-attr">  optimization:</span>
    <span class="hljs-comment"># &#x5173;&#x95ED;&#x540C;&#x6B65;&#x4EE5;&#x63D0;&#x9AD8;&#x5199;&#x5165;&#x901F;&#x5EA6;&#xFF08;&#x4F46;&#x589E;&#x52A0;&#x6570;&#x636E;&#x4E22;&#x5931;&#x98CE;&#x9669;&#xFF09;</span>
<span class="hljs-attr">    synchronous:</span> <span class="hljs-string">&quot;OFF&quot;</span>

    <span class="hljs-comment"># &#x589E;&#x5927;&#x7F13;&#x5B58;</span>
<span class="hljs-attr">    cache_size:</span> <span class="hljs-number">50000</span>

    <span class="hljs-comment"># &#x6279;&#x91CF;&#x63D0;&#x4EA4;</span>
<span class="hljs-attr">    batch_size:</span> <span class="hljs-number">100</span>

    <span class="hljs-comment"># &#x9884;&#x7F16;&#x8BD1;&#x8BED;&#x53E5;&#x7F13;&#x5B58;</span>
<span class="hljs-attr">    prepared_statement_cache:</span> <span class="hljs-number">100</span>
</code></pre>
<h2 id="mysql-&#x6570;&#x636E;&#x5E93;&#x5B58;&#x50A8;">MySQL &#x6570;&#x636E;&#x5E93;&#x5B58;&#x50A8;</h2>
<h3 id="&#x914D;&#x7F6E;&#x8BF4;&#x660E;">&#x914D;&#x7F6E;&#x8BF4;&#x660E;</h3>
<p>MySQL &#x6570;&#x636E;&#x5E93;&#x9002;&#x5408;&#x5927;&#x578B;&#x670D;&#x52A1;&#x5668;&#x548C;&#x7F51;&#x7EDC;&#x670D;&#x52A1;&#x5668;&#xFF1A;</p>
<pre><code class="lang-yaml"><span class="hljs-comment"># &#x5B58;&#x50A8;&#x7C7B;&#x578B;&#x8BBE;&#x7F6E;</span>
<span class="hljs-attr">storage_type:</span> mysql

<span class="hljs-comment"># MySQL&#x6570;&#x636E;&#x5E93;&#x914D;&#x7F6E;</span>
<span class="hljs-attr">mysql_database:</span>
  <span class="hljs-comment"># &#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x4FE1;&#x606F;</span>
<span class="hljs-attr">  host:</span> <span class="hljs-string">&quot;localhost&quot;</span>
<span class="hljs-attr">  port:</span> <span class="hljs-number">3306</span>
<span class="hljs-attr">  database:</span> <span class="hljs-string">&quot;codex&quot;</span>
<span class="hljs-attr">  username:</span> <span class="hljs-string">&quot;codex_user&quot;</span>
<span class="hljs-attr">  password:</span> <span class="hljs-string">&quot;your_secure_password&quot;</span>

  <span class="hljs-comment"># SSL &#x8FDE;&#x63A5;</span>
<span class="hljs-attr">  ssl:</span>
<span class="hljs-attr">    enabled:</span> <span class="hljs-literal">false</span>
<span class="hljs-attr">    trust_certificate:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr">    verify_hostname:</span> <span class="hljs-literal">false</span>

  <span class="hljs-comment"># &#x8FDE;&#x63A5;&#x6C60;&#x914D;&#x7F6E;</span>
<span class="hljs-attr">  pool:</span>
    <span class="hljs-comment"># &#x8FDE;&#x63A5;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#xFF08;&#x6BEB;&#x79D2;&#xFF09;</span>
<span class="hljs-attr">    connectionTimeout:</span> <span class="hljs-number">5000</span>

    <span class="hljs-comment"># &#x6700;&#x5927;&#x8FDE;&#x63A5;&#x6570;</span>
<span class="hljs-attr">    maximumPoolSize:</span> <span class="hljs-number">15</span>

    <span class="hljs-comment"># &#x6700;&#x5C0F;&#x7A7A;&#x95F2;&#x8FDE;&#x63A5;&#x6570;</span>
<span class="hljs-attr">    minimumIdle:</span> <span class="hljs-number">3</span>

    <span class="hljs-comment"># &#x8FDE;&#x63A5;&#x4FDD;&#x6D3B;&#x65F6;&#x95F4;&#xFF08;&#x6BEB;&#x79D2;&#xFF09;</span>
<span class="hljs-attr">    keepaliveTime:</span> <span class="hljs-number">30000</span>

    <span class="hljs-comment"># &#x7A7A;&#x95F2;&#x8D85;&#x65F6;&#x65F6;&#x95F4;&#xFF08;&#x6BEB;&#x79D2;&#xFF09;</span>
<span class="hljs-attr">    idleTimeout:</span> <span class="hljs-number">600000</span>

    <span class="hljs-comment"># &#x8FDE;&#x63A5;&#x6700;&#x5927;&#x751F;&#x5B58;&#x65F6;&#x95F4;&#xFF08;&#x6BEB;&#x79D2;&#xFF09;</span>
<span class="hljs-attr">    maxLifetime:</span> <span class="hljs-number">1800000</span>

  <span class="hljs-comment"># &#x5B57;&#x7B26;&#x96C6;&#x914D;&#x7F6E;</span>
<span class="hljs-attr">  charset:</span> <span class="hljs-string">&quot;utf8mb4&quot;</span>
<span class="hljs-attr">  collation:</span> <span class="hljs-string">&quot;utf8mb4_unicode_ci&quot;</span>

  <span class="hljs-comment"># &#x8868;&#x524D;&#x7F00;</span>
<span class="hljs-attr">  table_prefix:</span> <span class="hljs-string">&quot;codex_&quot;</span>
</code></pre>
<h3 id="&#x6570;&#x636E;&#x5E93;&#x51C6;&#x5907;">&#x6570;&#x636E;&#x5E93;&#x51C6;&#x5907;</h3>
<p><strong>&#x521B;&#x5EFA;&#x6570;&#x636E;&#x5E93;</strong>&#xFF1A;</p>
<pre><code class="lang-sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">DATABASE</span> codex 
<span class="hljs-built_in">CHARACTER</span> <span class="hljs-keyword">SET</span> utf8mb4 
<span class="hljs-keyword">COLLATE</span> utf8mb4_unicode_ci;
</code></pre>
<p><strong>&#x521B;&#x5EFA;&#x7528;&#x6237;</strong>&#xFF1A;</p>
<pre><code class="lang-sql"><span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">USER</span> <span class="hljs-string">&apos;codex_user&apos;</span>@<span class="hljs-string">&apos;localhost&apos;</span> <span class="hljs-keyword">IDENTIFIED</span> <span class="hljs-keyword">BY</span> <span class="hljs-string">&apos;your_secure_password&apos;</span>;
<span class="hljs-keyword">GRANT</span> ALL <span class="hljs-keyword">PRIVILEGES</span> <span class="hljs-keyword">ON</span> codex.* <span class="hljs-keyword">TO</span> <span class="hljs-string">&apos;codex_user&apos;</span>@<span class="hljs-string">&apos;localhost&apos;</span>;
<span class="hljs-keyword">FLUSH</span> <span class="hljs-keyword">PRIVILEGES</span>;
</code></pre>
<p><strong>&#x8DE8;&#x670D;&#x914D;&#x7F6E;</strong>&#xFF1A;</p>
<pre><code class="lang-sql"><span class="hljs-comment">-- &#x5141;&#x8BB8;&#x8FDC;&#x7A0B;&#x8FDE;&#x63A5;</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">USER</span> <span class="hljs-string">&apos;codex_user&apos;</span>@<span class="hljs-string">&apos;%&apos;</span> <span class="hljs-keyword">IDENTIFIED</span> <span class="hljs-keyword">BY</span> <span class="hljs-string">&apos;your_secure_password&apos;</span>;
<span class="hljs-keyword">GRANT</span> ALL <span class="hljs-keyword">PRIVILEGES</span> <span class="hljs-keyword">ON</span> codex.* <span class="hljs-keyword">TO</span> <span class="hljs-string">&apos;codex_user&apos;</span>@<span class="hljs-string">&apos;%&apos;</span>;
<span class="hljs-keyword">FLUSH</span> <span class="hljs-keyword">PRIVILEGES</span>;
</code></pre>
<h3 id="&#x4F18;&#x70B9;&#x548C;&#x7F3A;&#x70B9;">&#x4F18;&#x70B9;&#x548C;&#x7F3A;&#x70B9;</h3>
<p><strong>&#x4F18;&#x70B9;</strong>&#xFF1A;</p>
<ul>
<li>&#x2705; &#x652F;&#x6301;&#x8DE8;&#x670D;&#x6570;&#x636E;&#x5171;&#x4EAB;</li>
<li>&#x2705; &#x9AD8;&#x6027;&#x80FD;&#x548C;&#x53EF;&#x6269;&#x5C55;&#x6027;</li>
<li>&#x2705; &#x5B8C;&#x6574;&#x7684;SQL&#x529F;&#x80FD;</li>
<li>&#x2705; &#x4E13;&#x4E1A;&#x7684;&#x5907;&#x4EFD;&#x548C;&#x6062;&#x590D;&#x5DE5;&#x5177;</li>
<li>&#x2705; &#x652F;&#x6301;&#x96C6;&#x7FA4;&#x548C;&#x9AD8;&#x53EF;&#x7528;</li>
</ul>
<p><strong>&#x7F3A;&#x70B9;</strong>&#xFF1A;</p>
<ul>
<li>&#x274C; &#x9700;&#x8981;&#x989D;&#x5916;&#x7684;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x5668;</li>
<li>&#x274C; &#x914D;&#x7F6E;&#x76F8;&#x5BF9;&#x590D;&#x6742;</li>
<li>&#x274C; &#x7F51;&#x7EDC;&#x5EF6;&#x8FDF;&#x5F71;&#x54CD;&#x6027;&#x80FD;</li>
<li>&#x274C; &#x9700;&#x8981;&#x6570;&#x636E;&#x5E93;&#x7BA1;&#x7406;&#x77E5;&#x8BC6;</li>
</ul>
<h3 id="&#x9AD8;&#x7EA7;&#x914D;&#x7F6E;">&#x9AD8;&#x7EA7;&#x914D;&#x7F6E;</h3>
<pre><code class="lang-yaml"><span class="hljs-attr">mysql_database:</span>
  <span class="hljs-comment"># &#x8FDE;&#x63A5;&#x5B57;&#x7B26;&#x4E32;&#x53C2;&#x6570;</span>
<span class="hljs-attr">  connection_properties:</span>
<span class="hljs-attr">    useSSL:</span> <span class="hljs-literal">false</span>
<span class="hljs-attr">    useUnicode:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr">    characterEncoding:</span> <span class="hljs-string">&quot;utf8mb4&quot;</span>
<span class="hljs-attr">    autoReconnect:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr">    failOverReadOnly:</span> <span class="hljs-literal">false</span>
<span class="hljs-attr">    maxReconnects:</span> <span class="hljs-number">3</span>

  <span class="hljs-comment"># &#x67E5;&#x8BE2;&#x4F18;&#x5316;</span>
<span class="hljs-attr">  optimization:</span>
    <span class="hljs-comment"># &#x6279;&#x91CF;&#x63D2;&#x5165;&#x5927;&#x5C0F;</span>
<span class="hljs-attr">    batch_insert_size:</span> <span class="hljs-number">1000</span>

    <span class="hljs-comment"># &#x67E5;&#x8BE2;&#x7F13;&#x5B58;</span>
<span class="hljs-attr">    query_cache_size:</span> <span class="hljs-number">1000</span>

    <span class="hljs-comment"># &#x9884;&#x7F16;&#x8BD1;&#x8BED;&#x53E5;</span>
<span class="hljs-attr">    use_prepared_statements:</span> <span class="hljs-literal">true</span>

    <span class="hljs-comment"># &#x4E8B;&#x52A1;&#x8D85;&#x65F6;&#xFF08;&#x79D2;&#xFF09;</span>
<span class="hljs-attr">    transaction_timeout:</span> <span class="hljs-number">30</span>
</code></pre>
<h2 id="&#x6570;&#x636E;&#x5E93;&#x8868;&#x7ED3;&#x6784;">&#x6570;&#x636E;&#x5E93;&#x8868;&#x7ED3;&#x6784;</h2>
<h3 id="&#x81EA;&#x52A8;&#x751F;&#x6210;&#x8868;&#x7ED3;&#x6784;">&#x81EA;&#x52A8;&#x751F;&#x6210;&#x8868;&#x7ED3;&#x6784;</h3>
<p>Codex &#x4F1A;&#x5728;&#x9996;&#x6B21;&#x542F;&#x52A8;&#x65F6;&#x81EA;&#x52A8;&#x521B;&#x5EFA;&#x6240;&#x9700;&#x7684;&#x6570;&#x636E;&#x5E93;&#x8868;&#xFF1A;</p>
<pre><code class="lang-sql"><span class="hljs-comment">-- &#x73A9;&#x5BB6;&#x57FA;&#x7840;&#x4FE1;&#x606F;&#x8868;</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> codex_players (
    <span class="hljs-keyword">id</span> <span class="hljs-built_in">INT</span> AUTO_INCREMENT PRIMARY <span class="hljs-keyword">KEY</span>,
    <span class="hljs-keyword">uuid</span> <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">36</span>) <span class="hljs-keyword">UNIQUE</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    <span class="hljs-keyword">name</span> <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">16</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    first_join <span class="hljs-built_in">BIGINT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    last_seen <span class="hljs-built_in">BIGINT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    created_at <span class="hljs-keyword">TIMESTAMP</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">CURRENT_TIMESTAMP</span>,
    updated_at <span class="hljs-keyword">TIMESTAMP</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">CURRENT_TIMESTAMP</span> <span class="hljs-keyword">ON</span> <span class="hljs-keyword">UPDATE</span> <span class="hljs-keyword">CURRENT_TIMESTAMP</span>
);

<span class="hljs-comment">-- &#x53D1;&#x73B0;&#x8BB0;&#x5F55;&#x8868;</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> codex_discoveries (
    <span class="hljs-keyword">id</span> <span class="hljs-built_in">INT</span> AUTO_INCREMENT PRIMARY <span class="hljs-keyword">KEY</span>,
    player_uuid <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">36</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    <span class="hljs-keyword">category</span> <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    discovery_id <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">100</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    unlocked <span class="hljs-built_in">BOOLEAN</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-literal">FALSE</span>,
    unlock_time <span class="hljs-built_in">BIGINT</span> <span class="hljs-literal">NULL</span>,
    unlock_date <span class="hljs-built_in">DATE</span> <span class="hljs-literal">NULL</span>,
    <span class="hljs-keyword">data</span> <span class="hljs-built_in">TEXT</span> <span class="hljs-literal">NULL</span>,
    <span class="hljs-keyword">UNIQUE</span> <span class="hljs-keyword">KEY</span> unique_discovery (player_uuid, <span class="hljs-keyword">category</span>, discovery_id),
    FOREIGN <span class="hljs-keyword">KEY</span> (player_uuid) <span class="hljs-keyword">REFERENCES</span> codex_players(<span class="hljs-keyword">uuid</span>) <span class="hljs-keyword">ON</span> <span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">CASCADE</span>
);

<span class="hljs-comment">-- &#x7EDF;&#x8BA1;&#x6570;&#x636E;&#x8868;</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> codex_statistics (
    <span class="hljs-keyword">id</span> <span class="hljs-built_in">INT</span> AUTO_INCREMENT PRIMARY <span class="hljs-keyword">KEY</span>,
    player_uuid <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">36</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    stat_type <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">50</span>) <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    stat_value <span class="hljs-built_in">BIGINT</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-number">0</span>,
    last_updated <span class="hljs-built_in">BIGINT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    <span class="hljs-keyword">UNIQUE</span> <span class="hljs-keyword">KEY</span> unique_stat (player_uuid, stat_type),
    FOREIGN <span class="hljs-keyword">KEY</span> (player_uuid) <span class="hljs-keyword">REFERENCES</span> codex_players(<span class="hljs-keyword">uuid</span>) <span class="hljs-keyword">ON</span> <span class="hljs-keyword">DELETE</span> <span class="hljs-keyword">CASCADE</span>
);

<span class="hljs-comment">-- &#x7F13;&#x5B58;&#x6570;&#x636E;&#x8868;&#xFF08;&#x53EF;&#x9009;&#xFF09;</span>
<span class="hljs-keyword">CREATE</span> <span class="hljs-keyword">TABLE</span> codex_cache (
    cache_key <span class="hljs-built_in">VARCHAR</span>(<span class="hljs-number">255</span>) PRIMARY <span class="hljs-keyword">KEY</span>,
    cache_value LONGTEXT <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    expire_time <span class="hljs-built_in">BIGINT</span> <span class="hljs-keyword">NOT</span> <span class="hljs-literal">NULL</span>,
    created_at <span class="hljs-keyword">TIMESTAMP</span> <span class="hljs-keyword">DEFAULT</span> <span class="hljs-keyword">CURRENT_TIMESTAMP</span>
);
</code></pre>
<h2 id="&#x6570;&#x636E;&#x8FC1;&#x79FB;">&#x6570;&#x636E;&#x8FC1;&#x79FB;</h2>
<h3 id="&#x8FC1;&#x79FB;&#x5DE5;&#x5177;">&#x8FC1;&#x79FB;&#x5DE5;&#x5177;</h3>
<p>Codex &#x63D0;&#x4F9B;&#x5185;&#x7F6E;&#x7684;&#x6570;&#x636E;&#x8FC1;&#x79FB;&#x5DE5;&#x5177;&#xFF1A;</p>
<pre><code class="lang-bash"><span class="hljs-comment"># &#x4ECE;&#x6587;&#x4EF6;&#x8FC1;&#x79FB;&#x5230;H2</span>
/codex database migrate file h2

<span class="hljs-comment"># &#x4ECE;H2&#x8FC1;&#x79FB;&#x5230;MySQL</span>
/codex database migrate h2 mysql

<span class="hljs-comment"># &#x67E5;&#x770B;&#x8FC1;&#x79FB;&#x8FDB;&#x5EA6;</span>
/codex database migrate status

<span class="hljs-comment"># &#x53D6;&#x6D88;&#x6B63;&#x5728;&#x8FDB;&#x884C;&#x7684;&#x8FC1;&#x79FB;</span>
/codex database migrate cancel
</code></pre>
<h3 id="&#x624B;&#x52A8;&#x8FC1;&#x79FB;&#x6B65;&#x9AA4;">&#x624B;&#x52A8;&#x8FC1;&#x79FB;&#x6B65;&#x9AA4;</h3>
<p><strong>1. &#x5907;&#x4EFD;&#x539F;&#x6570;&#x636E;</strong>&#xFF1A;</p>
<pre><code class="lang-bash"><span class="hljs-comment"># &#x5907;&#x4EFD;&#x6587;&#x4EF6;&#x6570;&#x636E;</span>
cp -r plugins/Codex/players/ backup/

<span class="hljs-comment"># &#x5907;&#x4EFD;H2&#x6570;&#x636E;&#x5E93;</span>
/codex database backup h2_backup
</code></pre>
<p><strong>2. &#x914D;&#x7F6E;&#x65B0;&#x5B58;&#x50A8;&#x65B9;&#x5F0F;</strong>&#xFF1A;</p>
<pre><code class="lang-yaml"><span class="hljs-comment"># &#x4FEE;&#x6539;config.yml</span>
<span class="hljs-attr">storage_type:</span> mysql  <span class="hljs-comment"># &#x65B0;&#x7684;&#x5B58;&#x50A8;&#x7C7B;&#x578B;</span>
</code></pre>
<p><strong>3. &#x6267;&#x884C;&#x8FC1;&#x79FB;</strong>&#xFF1A;</p>
<pre><code class="lang-bash">/codex database migrate h2 mysql
</code></pre>
<p><strong>4. &#x9A8C;&#x8BC1;&#x6570;&#x636E;</strong>&#xFF1A;</p>
<pre><code class="lang-bash"><span class="hljs-comment"># &#x68C0;&#x67E5;&#x6570;&#x636E;&#x5B8C;&#x6574;&#x6027;</span>
/codex database verify

<span class="hljs-comment"># &#x5BF9;&#x6BD4;&#x8FC1;&#x79FB;&#x524D;&#x540E;&#x7684;&#x6570;&#x636E;</span>
/codex database compare backup_file current_mysql
</code></pre>
<h2 id="&#x6027;&#x80FD;&#x4F18;&#x5316;">&#x6027;&#x80FD;&#x4F18;&#x5316;</h2>
<h3 id="&#x901A;&#x7528;&#x4F18;&#x5316;&#x914D;&#x7F6E;">&#x901A;&#x7528;&#x4F18;&#x5316;&#x914D;&#x7F6E;</h3>
<pre><code class="lang-yaml"><span class="hljs-comment"># &#x6027;&#x80FD;&#x4F18;&#x5316;&#x914D;&#x7F6E;</span>
<span class="hljs-attr">performance:</span>
  <span class="hljs-comment"># &#x6279;&#x91CF;&#x64CD;&#x4F5C;&#x914D;&#x7F6E;</span>
<span class="hljs-attr">  batch_operations:</span>
<span class="hljs-attr">    enabled:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr">    batch_size:</span> <span class="hljs-number">100</span>
<span class="hljs-attr">    batch_timeout:</span> <span class="hljs-number">5000</span>  <span class="hljs-comment"># &#x6BEB;&#x79D2;</span>

  <span class="hljs-comment"># &#x5F02;&#x6B65;&#x64CD;&#x4F5C;</span>
<span class="hljs-attr">  async_operations:</span>
<span class="hljs-attr">    enabled:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr">    thread_pool_size:</span> <span class="hljs-number">4</span>
<span class="hljs-attr">    queue_size:</span> <span class="hljs-number">1000</span>

  <span class="hljs-comment"># &#x7F13;&#x5B58;&#x914D;&#x7F6E;</span>
<span class="hljs-attr">  cache:</span>
<span class="hljs-attr">    enabled:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr">    max_size:</span> <span class="hljs-number">10000</span>
<span class="hljs-attr">    expire_time:</span> <span class="hljs-number">3600</span>  <span class="hljs-comment"># &#x79D2;</span>
<span class="hljs-attr">    cleanup_interval:</span> <span class="hljs-number">300</span>  <span class="hljs-comment"># &#x79D2;</span>

  <span class="hljs-comment"># &#x8FDE;&#x63A5;&#x6C60;&#x76D1;&#x63A7;</span>
<span class="hljs-attr">  monitoring:</span>
<span class="hljs-attr">    enabled:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr">    log_slow_queries:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr">    slow_query_threshold:</span> <span class="hljs-number">1000</span>  <span class="hljs-comment"># &#x6BEB;&#x79D2;</span>
</code></pre>
<h3 id="&#x670D;&#x52A1;&#x5668;&#x7EA7;&#x4F18;&#x5316;">&#x670D;&#x52A1;&#x5668;&#x7EA7;&#x4F18;&#x5316;</h3>
<p><strong>Java&#x865A;&#x62DF;&#x673A;&#x4F18;&#x5316;</strong>&#xFF1A;</p>
<pre><code class="lang-bash"><span class="hljs-comment"># &#x542F;&#x52A8;&#x53C2;&#x6570;&#x4F18;&#x5316;</span>
-Xms2G -Xmx4G
-XX:+UseG1GC
-XX:MaxGCPauseMillis=50
-XX:+ParallelRefProcEnabled
</code></pre>
<p><strong>&#x7CFB;&#x7EDF;&#x7EA7;&#x4F18;&#x5316;</strong>&#xFF1A;</p>
<pre><code class="lang-bash"><span class="hljs-comment"># &#x589E;&#x52A0;&#x6587;&#x4EF6;&#x63CF;&#x8FF0;&#x7B26;&#x9650;&#x5236;</span>
<span class="hljs-built_in">ulimit</span> -n 65536

<span class="hljs-comment"># &#x4F18;&#x5316;&#x7F51;&#x7EDC;&#x53C2;&#x6570;</span>
<span class="hljs-built_in">echo</span> <span class="hljs-string">&apos;net.core.somaxconn = 65535&apos;</span> &gt;&gt; /etc/sysctl.conf
<span class="hljs-built_in">echo</span> <span class="hljs-string">&apos;net.ipv4.tcp_max_syn_backlog = 65535&apos;</span> &gt;&gt; /etc/sysctl.conf
</code></pre>
<h2 id="&#x76D1;&#x63A7;&#x4E0E;&#x7EF4;&#x62A4;">&#x76D1;&#x63A7;&#x4E0E;&#x7EF4;&#x62A4;</h2>
<h3 id="&#x6027;&#x80FD;&#x76D1;&#x63A7;">&#x6027;&#x80FD;&#x76D1;&#x63A7;</h3>
<pre><code class="lang-yaml"><span class="hljs-comment"># &#x76D1;&#x63A7;&#x914D;&#x7F6E;</span>
<span class="hljs-attr">monitoring:</span>
  <span class="hljs-comment"># &#x542F;&#x7528;&#x6027;&#x80FD;&#x76D1;&#x63A7;</span>
<span class="hljs-attr">  enabled:</span> <span class="hljs-literal">true</span>

  <span class="hljs-comment"># &#x76D1;&#x63A7;&#x95F4;&#x9694;&#xFF08;&#x79D2;&#xFF09;</span>
<span class="hljs-attr">  interval:</span> <span class="hljs-number">60</span>

  <span class="hljs-comment"># &#x76D1;&#x63A7;&#x6307;&#x6807;</span>
<span class="hljs-attr">  metrics:</span>
<span class="hljs-bullet">    -</span> connection_pool_usage
<span class="hljs-bullet">    -</span> query_execution_time
<span class="hljs-bullet">    -</span> memory_usage
<span class="hljs-bullet">    -</span> cache_hit_rate
<span class="hljs-bullet">    -</span> disk_usage

  <span class="hljs-comment"># &#x544A;&#x8B66;&#x914D;&#x7F6E;</span>
<span class="hljs-attr">  alerts:</span>
    <span class="hljs-comment"># &#x8FDE;&#x63A5;&#x6C60;&#x4F7F;&#x7528;&#x7387;&#x544A;&#x8B66;</span>
<span class="hljs-attr">    connection_pool_threshold:</span> <span class="hljs-number">80</span>

    <span class="hljs-comment"># &#x6162;&#x67E5;&#x8BE2;&#x544A;&#x8B66;</span>
<span class="hljs-attr">    slow_query_threshold:</span> <span class="hljs-number">2000</span>  <span class="hljs-comment"># &#x6BEB;&#x79D2;</span>

    <span class="hljs-comment"># &#x5185;&#x5B58;&#x4F7F;&#x7528;&#x544A;&#x8B66;</span>
<span class="hljs-attr">    memory_threshold:</span> <span class="hljs-number">85</span>  <span class="hljs-comment"># &#x767E;&#x5206;&#x6BD4;</span>
</code></pre>
<h3 id="&#x5B9A;&#x671F;&#x7EF4;&#x62A4;">&#x5B9A;&#x671F;&#x7EF4;&#x62A4;</h3>
<pre><code class="lang-yaml"><span class="hljs-comment"># &#x7EF4;&#x62A4;&#x914D;&#x7F6E;</span>
<span class="hljs-attr">maintenance:</span>
  <span class="hljs-comment"># &#x81EA;&#x52A8;&#x6E05;&#x7406;</span>
<span class="hljs-attr">  auto_cleanup:</span>
<span class="hljs-attr">    enabled:</span> <span class="hljs-literal">true</span>

    <span class="hljs-comment"># &#x6E05;&#x7406;&#x65E7;&#x7684;&#x7F13;&#x5B58;&#x6570;&#x636E;</span>
<span class="hljs-attr">    cache_retention_days:</span> <span class="hljs-number">7</span>

    <span class="hljs-comment"># &#x6E05;&#x7406;&#x65AD;&#x5F00;&#x8FDE;&#x63A5;&#x7684;&#x73A9;&#x5BB6;&#x6570;&#x636E;</span>
<span class="hljs-attr">    offline_player_retention_days:</span> <span class="hljs-number">90</span>

    <span class="hljs-comment"># &#x6E05;&#x7406;&#x9519;&#x8BEF;&#x65E5;&#x5FD7;</span>
<span class="hljs-attr">    error_log_retention_days:</span> <span class="hljs-number">30</span>

  <span class="hljs-comment"># &#x6570;&#x636E;&#x5E93;&#x4F18;&#x5316;</span>
<span class="hljs-attr">  database_optimization:</span>
<span class="hljs-attr">    enabled:</span> <span class="hljs-literal">true</span>

    <span class="hljs-comment"># &#x4F18;&#x5316;&#x95F4;&#x9694;&#xFF08;&#x5C0F;&#x65F6;&#xFF09;</span>
<span class="hljs-attr">    interval:</span> <span class="hljs-number">24</span>

    <span class="hljs-comment"># &#x91CD;&#x5EFA;&#x7D22;&#x5F15;</span>
<span class="hljs-attr">    rebuild_indexes:</span> <span class="hljs-literal">true</span>

    <span class="hljs-comment"># &#x66F4;&#x65B0;&#x7EDF;&#x8BA1;&#x4FE1;&#x606F;</span>
<span class="hljs-attr">    update_statistics:</span> <span class="hljs-literal">true</span>
</code></pre>
<h3 id="&#x5907;&#x4EFD;&#x7B56;&#x7565;">&#x5907;&#x4EFD;&#x7B56;&#x7565;</h3>
<pre><code class="lang-yaml"><span class="hljs-comment"># &#x5907;&#x4EFD;&#x914D;&#x7F6E;</span>
<span class="hljs-attr">backup:</span>
  <span class="hljs-comment"># &#x81EA;&#x52A8;&#x5907;&#x4EFD;</span>
<span class="hljs-attr">  auto_backup:</span>
<span class="hljs-attr">    enabled:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr">    interval:</span> <span class="hljs-string">&quot;0 2 * * *&quot;</span>  <span class="hljs-comment"># &#x6BCF;&#x5929;&#x51CC;&#x6668;2&#x70B9;</span>

  <span class="hljs-comment"># &#x5907;&#x4EFD;&#x4FDD;&#x7559;&#x7B56;&#x7565;</span>
<span class="hljs-attr">  retention:</span>
<span class="hljs-attr">    daily_backups:</span> <span class="hljs-number">7</span>    <span class="hljs-comment"># &#x4FDD;&#x7559;7&#x5929;&#x7684;&#x65E5;&#x5907;&#x4EFD;</span>
<span class="hljs-attr">    weekly_backups:</span> <span class="hljs-number">4</span>   <span class="hljs-comment"># &#x4FDD;&#x7559;4&#x5468;&#x7684;&#x5468;&#x5907;&#x4EFD;</span>
<span class="hljs-attr">    monthly_backups:</span> <span class="hljs-number">12</span> <span class="hljs-comment"># &#x4FDD;&#x7559;12&#x4E2A;&#x6708;&#x7684;&#x6708;&#x5907;&#x4EFD;</span>

  <span class="hljs-comment"># &#x5907;&#x4EFD;&#x538B;&#x7F29;</span>
<span class="hljs-attr">  compression:</span>
<span class="hljs-attr">    enabled:</span> <span class="hljs-literal">true</span>
<span class="hljs-attr">    format:</span> <span class="hljs-string">&quot;gzip&quot;</span>
<span class="hljs-attr">    compression_level:</span> <span class="hljs-number">6</span>
</code></pre>
<h2 id="&#x6545;&#x969C;&#x6392;&#x9664;">&#x6545;&#x969C;&#x6392;&#x9664;</h2>
<h3 id="&#x5E38;&#x89C1;&#x95EE;&#x9898;">&#x5E38;&#x89C1;&#x95EE;&#x9898;</h3>
<h4 id="&#x95EE;&#x9898;&#xFF1A;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x5931;&#x8D25;">&#x95EE;&#x9898;&#xFF1A;&#x6570;&#x636E;&#x5E93;&#x8FDE;&#x63A5;&#x5931;&#x8D25;</h4>
<p><strong>&#x6392;&#x67E5;&#x6B65;&#x9AA4;</strong>&#xFF1A;</p>
<ol>
<li>&#x68C0;&#x67E5;&#x6570;&#x636E;&#x5E93;&#x670D;&#x52A1;&#x662F;&#x5426;&#x8FD0;&#x884C;</li>
<li>&#x9A8C;&#x8BC1;&#x8FDE;&#x63A5;&#x53C2;&#x6570;&#x662F;&#x5426;&#x6B63;&#x786E;</li>
<li>&#x68C0;&#x67E5;&#x9632;&#x706B;&#x5899;&#x548C;&#x7F51;&#x7EDC;&#x8FDE;&#x63A5;</li>
<li>&#x67E5;&#x770B;&#x6570;&#x636E;&#x5E93;&#x7528;&#x6237;&#x6743;&#x9650;</li>
</ol>
<h4 id="&#x95EE;&#x9898;&#xFF1A;&#x6027;&#x80FD;&#x4E0B;&#x964D;">&#x95EE;&#x9898;&#xFF1A;&#x6027;&#x80FD;&#x4E0B;&#x964D;</h4>
<p><strong>&#x6392;&#x67E5;&#x6B65;&#x9AA4;</strong>&#xFF1A;</p>
<ol>
<li>&#x68C0;&#x67E5;&#x8FDE;&#x63A5;&#x6C60;&#x4F7F;&#x7528;&#x60C5;&#x51B5;</li>
<li>&#x5206;&#x6790;&#x6162;&#x67E5;&#x8BE2;&#x65E5;&#x5FD7;</li>
<li>&#x76D1;&#x63A7;&#x5185;&#x5B58;&#x548C;CPU&#x4F7F;&#x7528;&#x7387;</li>
<li>&#x68C0;&#x67E5;&#x78C1;&#x76D8;&#x7A7A;&#x95F4;&#x548C;I/O</li>
</ol>
<h4 id="&#x95EE;&#x9898;&#xFF1A;&#x6570;&#x636E;&#x4E0D;&#x4E00;&#x81F4;">&#x95EE;&#x9898;&#xFF1A;&#x6570;&#x636E;&#x4E0D;&#x4E00;&#x81F4;</h4>
<p><strong>&#x6392;&#x67E5;&#x6B65;&#x9AA4;</strong>&#xFF1A;</p>
<ol>
<li>&#x68C0;&#x67E5;&#x4E8B;&#x52A1;&#x914D;&#x7F6E;</li>
<li>&#x9A8C;&#x8BC1;&#x5E76;&#x53D1;&#x63A7;&#x5236;&#x8BBE;&#x7F6E;</li>
<li>&#x67E5;&#x770B;&#x9519;&#x8BEF;&#x65E5;&#x5FD7;</li>
<li>&#x6267;&#x884C;&#x6570;&#x636E;&#x5B8C;&#x6574;&#x6027;&#x68C0;&#x67E5;</li>
</ol>
<h2 id="&#x4E0B;&#x4E00;&#x6B65;">&#x4E0B;&#x4E00;&#x6B65;</h2>
<p>&#x4E86;&#x89E3;&#x4E86;&#x6570;&#x636E;&#x5B58;&#x50A8;&#x7CFB;&#x7EDF;&#x540E;&#xFF0C;&#x60A8;&#x53EF;&#x4EE5;&#x7EE7;&#x7EED;&#x5B66;&#x4E60;&#xFF1A;</p>
<ol>
<li><strong><a href="../integrations/item-plugins.html">&#x7B2C;&#x4E09;&#x65B9;&#x63D2;&#x4EF6;&#x96C6;&#x6210;</a></strong> - &#x4E0E;&#x5176;&#x4ED6;&#x63D2;&#x4EF6;&#x7684;&#x6570;&#x636E;&#x96C6;&#x6210;</li>
<li><strong><a href="../configuration/basic-config.html">&#x914D;&#x7F6E;&#x4F18;&#x5316;</a></strong> - &#x6DF1;&#x5165;&#x4E86;&#x89E3;&#x914D;&#x7F6E;&#x9009;&#x9879;</li>
<li><strong><a href="../admin/performance.md">&#x6027;&#x80FD;&#x8C03;&#x4F18;</a></strong> - &#x670D;&#x52A1;&#x5668;&#x6027;&#x80FD;&#x4F18;&#x5316;</li>
<li><strong><a href="../troubleshooting/performance-issues.md">&#x6545;&#x969C;&#x6392;&#x9664;</a></strong> - &#x89E3;&#x51B3;&#x6027;&#x80FD;&#x95EE;&#x9898;</li>
</ol>
<footer class="page-footer"><span class="copyright">Copyright &#xA9; By MagciBili all right reserved&#xFF0C;powered by Gitbook</span><span class="footer-modification">&#x8BE5;&#x6587;&#x4EF6;&#x4FEE;&#x8BA2;&#x65F6;&#x95F4;&#xFF1A;
2025-11-04 14:34:01
</span></footer>
                                
                                </section>
                            
    </div>
    <div class="search-results">
        <div class="has-results">
            
            <h1 class="search-results-title"><span class='search-results-count'></span> results matching "<span class='search-query'></span>"</h1>
            <ul class="search-results-list"></ul>
            
        </div>
        <div class="no-results">
            
            <h1 class="search-results-title">No results matching "<span class='search-query'></span>"</h1>
            
        </div>
    </div>
</div>

                        </div>
                    </div>
                
            </div>

            
                
                <a href="commands.html" class="navigation navigation-prev " aria-label="Previous page: 命令与权限">
                    <i class="fa fa-angle-left"></i>
                </a>
                
                
                <a href="enchantment-codex.html" class="navigation navigation-next " aria-label="Next page: 附魔图鉴">
                    <i class="fa fa-angle-right"></i>
                </a>
                
            
        
    </div>

    <script>
        var gitbook = gitbook || [];
        gitbook.push(function() {
            gitbook.page.hasChanged({"page":{"title":"数据存储系统","level":"3.3","depth":1,"next":{"title":"附魔图鉴","level":"4.1","depth":1,"path":"features/enchantment-codex.md","ref":"features/enchantment-codex.md","articles":[]},"previous":{"title":"命令与权限","level":"3.2","depth":1,"path":"features/commands.md","ref":"features/commands.md","articles":[]},"dir":"ltr"},"config":{"plugins":["-lunr","-search","-sharing","-fontsettings","highlight","livereload","search-pro","expandable-chapters-small","splitter","back-to-top-button","github","hide-element","code","page-toc-button","tbfed-pagefooter"],"root":".","styles":{"pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css","website":"styles/website.css"},"pluginsConfig":{"tbfed-pagefooter":{"copyright":"Copyright &copy By MagciBili","modify_label":"该文件修订时间：","modify_format":"YYYY-MM-DD HH:mm:ss"},"github":{"url":"https://github.com/addpromax/plugin-gitbook-wiki"},"livereload":{},"splitter":{},"search-pro":{},"code":{"copyButtons":true},"hide-element":{"elements":[".gitbook-link"]},"highlight":{},"page-toc-button":{"maxTocDepth":2,"minTocSize":2},"back-to-top-button":{},"expandable-chapters-small":{},"theme-default":{"styles":{"pdf":"styles/pdf.css","epub":"styles/epub.css","mobi":"styles/mobi.css","ebook":"styles/ebook.css","print":"styles/print.css","website":"styles/website.css"},"showLevel":false}},"theme":"default","author":"魔法麦麦","pdf":{"pageNumbers":true,"fontSize":12,"fontFamily":"Arial","paperSize":"a4","chapterMark":"pagebreak","pageBreaksBefore":"/","margin":{"right":62,"left":62,"top":56,"bottom":56}},"structure":{"langs":"LANGS.md","readme":"README.md","glossary":"GLOSSARY.md","summary":"SUMMARY.md"},"variables":{},"title":"MagicBili系列插件WIKI","language":"zh-hans","gitbook":"3.2.3","description":"用来查看我写的插件相关内容"},"file":{"path":"features/data-storage.md","mtime":"2025-11-04T14:34:01.719Z","type":"markdown"},"gitbook":{"version":"3.2.3","time":"2025-11-04T14:34:42.135Z"},"basePath":"..","book":{"language":""}});
        });
    </script>
</div>

        
    <script src="../gitbook/gitbook.js"></script>
    <script src="../gitbook/theme.js"></script>
    
        
        <script src="../gitbook/gitbook-plugin-livereload/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/jquery.mark.min.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-search-pro/search.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-expandable-chapters-small/expandable-chapters-small.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-splitter/splitter.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-back-to-top-button/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-github/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-hide-element/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-code/plugin.js"></script>
        
    
        
        <script src="../gitbook/gitbook-plugin-page-toc-button/plugin.js"></script>
        
    

    </body>
</html>

